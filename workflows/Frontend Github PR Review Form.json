{"createdAt":"2025-05-16T00:58:19.573Z","updatedAt":"2025-05-16T02:53:25.000Z","id":"YfdG510wDgTIZS0Q","name":"Frontend Github PR Review Form","active":true,"nodes":[{"parameters":{"model":{"__rl":true,"value":"gpt-4o-mini","mode":"list","cachedResultName":"gpt-4o-mini"},"options":{}},"id":"eda0fb27-aa61-45e5-9a64-0aedd93cd305","name":"OpenAI Chat Model","type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","position":[368,60],"typeVersion":1.2,"credentials":{"openAiApi":{"id":"teZK5ibPNHcUd7eK","name":"Developjik OpenAi account"}}},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const parseLastDiff = (gitDiff, filename) => { \n  gitDiff = gitDiff.replace(/\\n\\\\ No newline at end of file/, '')\n  \n  const diffList = gitDiff.trimEnd().split('\\n').reverse();\n  const lastLineFirstChar = diffList?.[0]?.[0];\n  const lastDiff =\n    diffList.find((item) => {\n      return /^@@ \\-\\d+,\\d+ \\+\\d+,\\d+ @@/g.test(item);\n    }) || '';\n\n  const [lastOldLineCount, lastNewLineCount] = lastDiff\n    .replace(/@@ \\-(\\d+),(\\d+) \\+(\\d+),(\\d+) @@.*/g, ($0, $1, $2, $3, $4) => {\n      return `${+$1 + +$2},${+$3 + +$4}`;\n    })\n    .split(',');\n  \n  if (!/^\\d+$/.test(lastOldLineCount) || !/^\\d+$/.test(lastNewLineCount)) {\n    return {\n      lastOldLine: -1,\n      lastNewLine: -1,\n      gitDiff: gitDiff,\n    };\n  }\n\n  const lastOldLine = lastLineFirstChar === '+' ? null : (parseInt(lastOldLineCount) || 0) - 1;\n  const lastNewLine = lastLineFirstChar === '-' ? null : (parseInt(lastNewLineCount) || 0) - 1;\n\n  return {\n    filename,\n    lastOldLine,\n    lastNewLine,\n    gitDiff,\n  };\n};\n\nreturn parseLastDiff($input.item.json.patch || '', $input.item.json.filename || '' )\n"},"id":"37459b35-a9ad-495f-82cb-ee386e4d6f66","name":"Parse Last Diff Line","type":"n8n-nodes-base.code","position":[-160,-160],"typeVersion":2},{"parameters":{"promptType":"define","text":"=íŒŒì¼ ê²½ë¡œ: {{ $('Loop').item.json.filename }}\n\në‹¤ìŒì€ í”„ë¡ íŠ¸ì—”ë“œ ì½”ë“œì˜ ë³€ê²½ ì‚¬í•­ìž…ë‹ˆë‹¤.  \nì•„ëž˜ì˜ **ê¸°ì¡´ ì½”ë“œì™€ ë³€ê²½ëœ ì½”ë“œ**ë¥¼ ê¸°ë°˜ìœ¼ë¡œ, ë‹¤ìŒ ê¸°ì¤€ì— ë”°ë¼ **React/Next.js ê¸°ë°˜ ì½”ë“œ ë¦¬ë·°**ë¥¼ ìž‘ì„±í•´ ì£¼ì„¸ìš”.\n\n\nðŸ§  ì½”ë“œ ë¦¬ë·° ëª©ì \n- ë³€ê²½ ì˜ë„ì™€ ëª©ì ì„ ë¨¼ì € íŒŒì•…\n- ì½”ë“œ ë³€ê²½ í›„ ìƒˆë¡œìš´ ì½”ë“œì—ì„œ ê°œì„ í•  ë¶€ë¶„ì´ ì¡´ìž¬í• ì‹œ ì œì•ˆ í¬í•¨ \n- ê¸°ìˆ ì  ê·¼ê±°ê°€ í¬í•¨ëœ ë¦¬ë·°ë¥¼ í•œêµ­ì–´ë¡œ Markdown í¬ë§·ìœ¼ë¡œ ìž‘ì„±\n\n\n\n**ðŸ”€ ì½”ë“œ ë³€ê²½ ì „ ì›ë³¸ ì½”ë“œ**:\n```tsx\n{{ $json.originalCode }}\n```\n\n**âœ… ì½”ë“œ ë³€ê²½ í›„ ìƒˆë¡œìš´ ì½”ë“œ**:\n```tsx\n{{ $json.newCode }}\n```\n\nðŸŽ ì½”ë“œ ë¦¬ë·°ëŠ” ë™ë£Œ ê°œë°œìžì˜ ì„±ìž¥ì„ ë•ëŠ” ê´€ì ì—ì„œ ì§„ì‹¬ì„ ë‹´ì•„ ìž‘ì„±í•´ ì£¼ì„¸ìš”.","options":{"systemMessage":"=ðŸ§  í”„ë¡ íŠ¸ì—”ë“œ ì½”ë“œ ë¦¬ë·° ì „ë¬¸ê°€ í”„ë¡¬í”„íŠ¸ (ìµœì¢… ê°œì„  ë²„ì „)\n\nðŸŽ¯ ì—­í•  ì •ì˜\n\në‹¹ì‹ ì€ React, TypeScript, Next.js, Tailwind CSSì— ì •í†µí•œ í”„ë¡ íŠ¸ì—”ë“œ ì „ë¬¸ê°€ìž…ë‹ˆë‹¤.\në‹¨ìˆœí•œ ì§€ì ì´ ì•„ë‹Œ, ì‹¤ì§ˆì ì¸ ê°œì„  ë°©í–¥ì„ ì œì‹œí•˜ê³  ë™ë£Œ ê°œë°œìžì˜ ì„±ìž¥ì„ ë•ëŠ” ì½”ë“œ ë¦¬ë·°ì–´ë¡œì„œ í™œë™í•©ë‹ˆë‹¤.\n\nâ¸»\n\nâœ… ë¦¬ë·° ì›ì¹™\n\t1.\tì •í™•í•œ ì´í•´\nì½”ë“œì˜ ì˜ë„ì™€ ë§¥ë½ì„ ë¨¼ì € íŒŒì•…í•˜ê³  ê·¸ì— ë§žëŠ” í”¼ë“œë°±ì„ ì œê³µí•©ë‹ˆë‹¤.\n\t2.\tì‹¤ë¬´ ì¤‘ì‹¬ ì „ë¬¸ì„±\nì´ë¡ ì´ ì•„ë‹Œ, í˜„ì—…ì—ì„œ ì¦‰ì‹œ ë„ì›€ì´ ë˜ëŠ” êµ¬ì¡°/íŒ¨í„´/ë¦¬íŒ©í† ë§ ì¤‘ì‹¬ìœ¼ë¡œ ë¦¬ë·°í•©ë‹ˆë‹¤.\n\t3.\tí•¨ê»˜ ê°œì„ í•˜ëŠ” ì‹œì„ \në¬¸ì œì ì„ ì§šëŠ” ê²ƒì— ê·¸ì¹˜ì§€ ì•Šê³ , ì–´ë–»ê²Œ ê°œì„ í•˜ë©´ ì¢‹ì„ì§€ êµ¬ì²´ì ì¸ ì œì•ˆì„ í•¨ê»˜ ì œê³µí•©ë‹ˆë‹¤.\n\t4.\të‹¤ê°ë„ ê³ ë ¤\nìœ ì§€ë³´ìˆ˜ì„±, ì„±ëŠ¥, ì‚¬ìš©ìž ê²½í—˜, íŒ€ í˜‘ì—…ê¹Œì§€ ë‹¤ì–‘í•œ ê´€ì ì—ì„œ í”¼ë“œë°±í•©ë‹ˆë‹¤.\n\t5.\têµìœ¡ì  ì ‘ê·¼\në‹¨ìˆœí•œ ì½”ë“œ ì„¤ëª…ì´ ì•„ë‹ˆë¼, â€œì™œ ì´ëŸ° êµ¬ì¡°ê°€ ë” ì¢‹ì€ê°€?â€ë¥¼ í•¨ê»˜ ì„¤ëª…í•˜ì—¬ í•™ìŠµì— ê¸°ì—¬í•©ë‹ˆë‹¤.\n\nâ¸»\n\nðŸ§¾ ë¦¬ë·° í¬ë§·\n\tâ€¢\tì–¸ì–´: í•œêµ­ì–´\n\tâ€¢\tí˜•ì‹: Markdown\n\tâ€¢\tìŠ¤íƒ€ì¼: ëª…í™•í•˜ê³  ê°„ê²°í•˜ë©° ì§„ì‹¬ ë‹´ê¸´ ì„¤ëª…\n\tâ€¢\tì´ëª¨ì§€: âœ¨, âš ï¸, ðŸ’¡ ë“±ìœ¼ë¡œ í•µì‹¬ í¬ì¸íŠ¸ ê°•ì¡°\n\tâ€¢\tì½”ë“œ: ê°œì„  ì œì•ˆ ì‹œ TypeScript ê¸°ë°˜ì˜ ì½”ë“œ ì˜ˆì‹œ í¬í•¨\n\nâ¸»\n\nðŸ” ë¦¬ë·° ì²´í¬ë¦¬ìŠ¤íŠ¸\n\nðŸ”§ React/JSX\n\tâ€¢\tì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬ ë° ì±…ìž„ ì›ì¹™ (SRP)\n\tâ€¢\tìƒíƒœ ë° props ê´€ë¦¬ ë°©ì‹ (useState, useReducer, ì „ì—­ ìƒíƒœ ë“±)\n\tâ€¢\të Œë”ë§ ìµœì í™” (memo, useCallback, useMemo)\n\tâ€¢\tì‚¬ì´ë“œ ì´íŽ™íŠ¸ ì²˜ë¦¬ (useEffectì˜ ì˜ì¡´ì„± ë°°ì—´ ë° ì •ë¦¬ í•¨ìˆ˜)\n\tâ€¢\tì¡°ê±´ë¶€ ë Œë”ë§ ê°€ë…ì„±\n\tâ€¢\tì˜¤ë¥˜ ì²˜ë¦¬ íë¦„ (ErrorBoundary, fallback UI ë“±)\n\nðŸ” TypeScript\n\tâ€¢\tíƒ€ìž… ì •ì˜ ëª…í™•ì„± ë° ìž¬ì‚¬ìš©ì„±\n\tâ€¢\tíƒ€ìž… ì¶”ë¡  vs ëª…ì‹œì  ì„ ì–¸ ê· í˜•\n\tâ€¢\tì œë„¤ë¦­, ìœ ë‹ˆì˜¨, ì¸í„°ì„¹ì…˜ íƒ€ìž… í™œìš©\n\tâ€¢\tíƒ€ìž… ì•ˆì „ì„± ë³´ìž¥ (any ìµœì†Œí™”, ì¢ížˆê¸° ë“±)\n\nðŸŽ¨ Tailwind CSS\n\tâ€¢\tí´ëž˜ìŠ¤ êµ¬ì„±ì˜ ëª…í™•ì„±\n\tâ€¢\tì¤‘ë³µ ìœ í‹¸ë¦¬í‹° ìµœì†Œí™” (@apply ë° ì»´í¬ë„ŒíŠ¸í™”)\n\tâ€¢\të°˜ì‘í˜• ë° ìƒíƒœ ê¸°ë°˜ í´ëž˜ìŠ¤ ì²˜ë¦¬ (hover:, sm: ë“±)\n\tâ€¢\të””ìžì¸ ì‹œìŠ¤í…œ ê¸°ë°˜ ì»¬ëŸ¬/íƒ€ì´í¬/ì—¬ë°± ì¼ê´€ì„±\n\nðŸš€ ì„±ëŠ¥ ìµœì í™”\n\tâ€¢\të¶ˆí•„ìš”í•œ ë Œë”ë§ ë°©ì§€\n\tâ€¢\të¬´ê±°ìš´ ì—°ì‚°ì˜ ë©”ëª¨ì´ì œì´ì…˜\n\tâ€¢\tì½”ë“œ ìŠ¤í”Œë¦¬íŒ… (next/dynamic, React.lazy)\n\tâ€¢\tí´ë¦°ì—… ì—†ëŠ” ì‚¬ì´ë“œ ì´íŽ™íŠ¸ ë°©ì§€ (useEffect ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë“±)\n\nâ™¿ï¸ ì ‘ê·¼ì„± (a11y)\n\tâ€¢\tARIA ì†ì„± í™œìš©\n\tâ€¢\tí‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜ ë³´ìž¥\n\tâ€¢\tìƒ‰ìƒ ëŒ€ë¹„ ë° ì‹œê°ì  ê°€ë…ì„±\n\tâ€¢\tìŠ¤í¬ë¦° ë¦¬ë” í˜¸í™˜ì„± ê³ ë ¤\nâ¸»\n\nðŸŽ ë¦¬ë·° ì‹œ í•­ìƒ í¬í•¨ë˜ëŠ” ì¶”ê°€ ì œì•ˆ\n\ní•­ëª©\tì„¤ëª…\nðŸ’¡ ëŒ€ì•ˆ ì½”ë“œ ì˜ˆì‹œ\tí˜„ìž¬ êµ¬ì¡°ë³´ë‹¤ ë” ë‚˜ì€ ë°©í–¥ì˜ ì½”ë“œ ì˜ˆì‹œë¥¼ TypeScriptë¡œ ì œê³µí•©ë‹ˆë‹¤.\nðŸ› ï¸ ë¦¬íŒ©í† ë§ ë°©í–¥ ì œì•ˆ\të¡œì§ ë¶„ë¦¬, ì»¤ìŠ¤í…€ í›… í™œìš©, ì»¨í…Œì´ë„ˆ/í”„ë¦¬ì  í…Œì´ì…˜ ë¶„ë¦¬ ë“± ì‹¤ë¬´ì— ì í•©í•œ ê°œì„  ë°©í–¥ì„ ì œì‹œí•©ë‹ˆë‹¤.\nðŸ“š ì°¸ê³  ë§í¬ / ë¬¸ì„œ\tê³µì‹ ë¬¸ì„œ, ë¸”ë¡œê·¸ ê¸€, ì‹¤ë¬´ ì‚¬ë¡€ ë“± í•™ìŠµì— ë„ì›€ì´ ë ë§Œí•œ ë§í¬ë¥¼ ê³µìœ í•©ë‹ˆë‹¤.\nðŸ”„ ì»¨ë²¤ì…˜ ì •ë¦¬\të°˜ë³µì ìœ¼ë¡œ ë°œìƒí•  ìˆ˜ ìžˆëŠ” íŒ€ ë‚´ ì½”ë“œ ìŠ¤íƒ€ì¼ì´ë‚˜ ë„¤ì´ë° ì´ìŠˆëŠ” ì»¨ë²¤ì…˜ ì œì•ˆìœ¼ë¡œ ì •ë¦¬í•©ë‹ˆë‹¤.\n\nðŸ“Š ì½”ë“œ í‰ê°€ ì ìˆ˜ëŠ” 100ì  ë§Œì  ê¸°ì¤€ìœ¼ë¡œ ë‹¤ìŒ í˜•ì‹ìœ¼ë¡œ í‘œì‹œí•´ ì£¼ì„¸ìš”:\n\nðŸ“Š ì½”ë“œ í‰ê°€ ì ìˆ˜: {ì ìˆ˜}ì  / 100\"\n\nâ¸»\n\nðŸ’¬ ì˜ˆì‹œ ë¦¬ë·° í†¤\n\n### âœ… ì „ë°˜ì ì¸ í”¼ë“œë°±  \n\nì»´í¬ë„ŒíŠ¸ì˜ êµ¬ì¡°ê°€ ê¹”ë”í•˜ê³ , ìƒíƒœ íë¦„ë„ ìž˜ ì •ë¦¬ë˜ì–´ ìžˆì–´ ìœ ì§€ë³´ìˆ˜ì„±ì´ ë†’ìŠµë‹ˆë‹¤. íŠ¹ížˆ `useEffect`ì˜ ì •ë¦¬ í•¨ìˆ˜ ì²˜ë¦¬ê°€ ì¸ìƒì ìž…ë‹ˆë‹¤ ðŸ‘  \në‹¤ë§Œ, `props` ì „ë‹¬ ë°©ì‹ì´ ì•½ê°„ ê³¼ë„í•˜ê²Œ ì¤‘ì²©ë˜ì–´ ìžˆì–´ ê°„ë‹¨í•œ ë¦¬íŒ©í† ë§ìœ¼ë¡œ ë” ëª…í™•í•´ì§ˆ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.\n\n---\n\n### âš ï¸ ê°œì„  í¬ì¸íŠ¸\n\n1. **ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬ ë¶€ì¡±**\n   - `Modal` ë‚´ì—ì„œ ë„ˆë¬´ ë§Žì€ ë¡œì§ì´ í•¨ê»˜ ì²˜ë¦¬ë˜ê³  ìžˆìŠµë‹ˆë‹¤.\n   - â†’ `useModalState` ì»¤ìŠ¤í…€ í›…ìœ¼ë¡œ ë¶„ë¦¬í•˜ë©´ í…ŒìŠ¤íŠ¸ì„±ê³¼ ìž¬ì‚¬ìš©ì„±ì´ ì¦ê°€í•©ë‹ˆë‹¤.\n\n---\n\n### ðŸ’¡ ê°œì„  ì œì•ˆ\n\n```tsx\n// useModalState.ts\nexport const useModalState = () => {\n  const [isOpen, setOpen] = useState(false);\n  return {\n    isOpen,\n    open: () => setOpen(true),\n    close: () => setOpen(false),\n  };\n};\n\n\nâ¸»\n\nðŸ“š ì°¸ê³  ë§í¬ ì˜ˆì‹œ\n\tâ€¢\tReact ê³µì‹ - í›…ì˜ ì¶”ì¶œ\n\tâ€¢\tKent C. Dodds - UI ìƒíƒœ ê´€ë¦¬ ì „ëžµ\nâ¸»\n\nâ¸»\n\nðŸ”„ íŒ€ ì»¨ë²¤ì…˜ ì œì•ˆ ì˜ˆì‹œ\n\ní˜„ìž¬ props ëª…ëª… ê·œì¹™ì´ ì»´í¬ë„ŒíŠ¸ë§ˆë‹¤ ë‹¬ë¼ ê°€ë…ì„±ì´ ë–¨ì–´ì§ˆ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.\nâ†’ onXxx, isXxx íŒ¨í„´ìœ¼ë¡œ ì •ë¦¬í•´ë³´ë©´ ì–´ë–¨ê¹Œìš”?\n\nðŸ“Š ì½”ë“œ í‰ê°€ ì ìˆ˜: 78ì  / 100"}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.8,"position":[280,-160],"id":"f9685ef1-0fb3-4eed-a0d9-2dce3f29f75a","name":"AI Agent"},{"parameters":{"url":"=https://api.github.com/repos/{{ $('Form Trigger').item.json.github_organization }}/{{ $('Form Trigger').item.json.github_repo }}/pulls/{{ $('Form Trigger').item.json.pr_number }}/files","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Accept","value":"application/vnd.github.v3+json"},{"name":"Authorization","value":"=Bearer {{$node[\"Get COLO Variables\"].json.github_auth}}"}]},"options":{}},"id":"b3a2b83f-f2c3-4364-abe7-0fb12e11a7e1","name":"Get PR Files Change","type":"n8n-nodes-base.httpRequest","position":[-820,165],"typeVersion":4.2},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"loose","version":2},"conditions":[{"id":"501623a9-9515-4034-bb13-a5a6a4f924eb","operator":{"type":"string","operation":"isNotEmpty"},"leftValue":"={{ $json.patch }}","rightValue":""},{"id":"f2928260-ef04-47cb-9c36-432e29fe52d1","leftValue":"={{ $json.changes }}","rightValue":20,"operator":{"type":"number","operation":"gte"}}],"combinator":"or"},"looseTypeValidation":true,"options":{"ignoreCase":false}},"id":"ebb5f1b7-23a6-404d-81a5-00539bf3a642","name":"Skip File Change","type":"n8n-nodes-base.if","position":[-380,-160],"typeVersion":2.2},{"parameters":{"method":"POST","url":"=https://api.github.com/repos/{{ $('Form Trigger').item.json.github_organization }}/{{ $('Form Trigger').item.json.github_repo }}/pulls/{{ $('Form Trigger').item.json.pr_number }}/comments","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Accept","value":"application/vnd.github.v3+json"},{"name":"Authorization","value":"=Bearer {{$node[\"Get COLO Variables\"].json.github_auth}}"}]},"sendBody":true,"bodyParameters":{"parameters":[{"name":"body","value":"={{ $('Process GPT Review').item.json.review }}"},{"name":"commit_id","value":"={{ $('Webhook').item.json.body.pull_request.head.sha }}"},{"name":"path","value":"={{ $('Loop').item.json.filename }}"},{"name":"line","value":"={{ $('Parse Last Diff Line').item.json.lastNewLine || $('Parse Last Diff Line').item.json.lastOldLine || 1 }}"},{"name":"side","value":"={{ $('Parse Last Diff Line').item.json.lastNewLine ? 'RIGHT' : 'LEFT' }}"}]},"options":{}},"id":"b8f9f6d2-ece6-4253-8e3f-712f59e8b17c","name":"Post PR Comment","type":"n8n-nodes-base.httpRequest","position":[1096,40],"typeVersion":4.2},{"parameters":{"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[-600,165],"id":"8a72933d-cf83-49e3-9202-b4ab45b18b1e","name":"Loop"},{"parameters":{"jsCode":"var review = $input.item.json.output || '';\n\n// ì •ê·œì‹: ë‹¤ì–‘í•œ í‘œí˜„ ëŒ€ì‘ (êµµê²Œ, ì½œë¡ , ì´ëª¨ì§€, ê³µë°±)\nvar scoreMatch = review.match(/(?:ðŸ“Š\\s*)?(?:\\*\\*)?ì½”ë“œ\\s*í‰ê°€\\s*ì ìˆ˜(?:\\*\\*)?[:ï¼š]?\\s*(\\d+)/);\n\nvar score = scoreMatch ? parseInt(scoreMatch[1], 10) : 0;\n\n// ì ìˆ˜ ì•žê¹Œì§€ë§Œ ìž˜ë¼ë‚´ê¸°\nvar trimmedReview = review.split(/(?:ðŸ“Š\\s*)?(?:\\*\\*)?ì½”ë“œ\\s*í‰ê°€\\s*ì ìˆ˜(?:\\*\\*)?[:ï¼š]/)[0].trim();\n\nreturn [\n  {\n    json: {\n      score: score,\n      review: trimmedReview\n    }\n  }\n];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[660,-160],"id":"16e15ce1-899c-461b-afb3-f73b72f1ac35","name":"Process GPT Review"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"8ab43db0-3e45-4ce0-8658-34d2d53fe6ac","leftValue":"={{ $json.score }}","rightValue":80,"operator":{"type":"number","operation":"lt"}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[876,-35],"id":"3641938f-3d1b-42af-a846-1083180cd555","name":"If GPT Review Needed"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"var diff = $input.item.json.gitDiff || ''\n\nlet lines = diff.trimEnd().split('\\n');\n\nlet originalCode = '';\nlet newCode = '';\n\nlines.forEach(line => {\n    if (line.startsWith('-')) {\n        originalCode += line.substring(1) + \"\\n\";\n    } else if (line.startsWith('+')) {\n        newCode += line.substring(1) + \"\\n\";\n    } else if (!line.startsWith('@')) {\n        originalCode += line + \"\\n\";\n        newCode += line + \"\\n\";\n    }\n});\n\nconst codeObj = {\n  originalCode: originalCode,\n  newCode: newCode\n};\n\nreturn codeObj\n"},"id":"d9b85b3f-88a2-4a19-b476-141b7d00b4ee","name":"Code","type":"n8n-nodes-base.code","position":[60,-160],"typeVersion":2},{"parameters":{"formTitle":"Github PR Review Request Form","formFields":{"values":[{"fieldLabel":"github_organization","fieldType":"dropdown","fieldOptions":{"values":[{"option":"colosseumcoinckr"}]},"requiredField":true},{"fieldLabel":"github_repo","fieldType":"dropdown","fieldOptions":{"values":[{"option":"pms-frontend"}]},"requiredField":true},{"fieldLabel":"pr_number","fieldType":"number","placeholder":"PR ë²ˆí˜¸ë¥¼ ìž…ë ¥í•˜ì„¸ìš”.","requiredField":true}]},"options":{}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.2,"position":[-1700,160],"id":"d19427a1-0588-4722-b4ff-871e181e8b0c","name":"Form Trigger","webhookId":"7c0e93b8-4080-4fe7-9f94-4ab029a10f01"},{"parameters":{"url":"=https://api.github.com/repos/{{ $('Form Trigger').item.json.github_organization }}/{{ $('Form Trigger').item.json.github_repo }}/pulls/{{ $('Form Trigger').item.json.pr_number }}","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Accept","value":"application/vnd.github.v3+json"},{"name":"Authorization","value":"=Bearer {{$node[\"Get COLO Variables\"].json.github_auth}}"}]},"options":{}},"id":"22ad9c36-d728-422f-9b18-21faad162f5b","name":"Get PR Info","type":"n8n-nodes-base.httpRequest","position":[-1260,165],"typeVersion":4.2},{"parameters":{"workflowId":{"__rl":true,"value":"uGqCptWtD45pUJt4","mode":"list","cachedResultName":"[COLO] (Sub) Get COLO Variables"},"workflowInputs":{"mappingMode":"defineBelow","value":{},"matchingColumns":[],"schema":[],"attemptToConvertTypes":false,"convertFieldsToString":true},"options":{}},"type":"n8n-nodes-base.executeWorkflow","typeVersion":1.2,"position":[-1480,165],"id":"f001d095-c068-4142-af4f-0eafab6447ad","name":"Get COLO Variables"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"3304ec64-441d-425a-b376-fcbff85583b3","leftValue":"={{ $json.state }}","rightValue":"open","operator":{"type":"string","operation":"equals","name":"filter.operator.equals"}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[-1040,165],"id":"05831c70-751e-4241-8fc1-2554333e939c","name":"If PR Opened"}],"connections":{"OpenAI Chat Model":{"ai_languageModel":[[{"node":"AI Agent","type":"ai_languageModel","index":0}]]},"Parse Last Diff Line":{"main":[[{"node":"Code","type":"main","index":0}]]},"AI Agent":{"main":[[{"node":"Process GPT Review","type":"main","index":0}]]},"Get PR Files Change":{"main":[[{"node":"Loop","type":"main","index":0}]]},"Skip File Change":{"main":[[{"node":"Parse Last Diff Line","type":"main","index":0}],[{"node":"Loop","type":"main","index":0}]]},"Post PR Comment":{"main":[[{"node":"Loop","type":"main","index":0}]]},"Loop":{"main":[[],[{"node":"Skip File Change","type":"main","index":0}]]},"Process GPT Review":{"main":[[{"node":"If GPT Review Needed","type":"main","index":0}]]},"If GPT Review Needed":{"main":[[{"node":"Post PR Comment","type":"main","index":0}],[{"node":"Loop","type":"main","index":0}]]},"Code":{"main":[[{"node":"AI Agent","type":"main","index":0}]]},"Form Trigger":{"main":[[{"node":"Get COLO Variables","type":"main","index":0}]]},"Get COLO Variables":{"main":[[{"node":"Get PR Info","type":"main","index":0}]]},"Get PR Info":{"main":[[{"node":"If PR Opened","type":"main","index":0}]]},"If PR Opened":{"main":[[{"node":"Get PR Files Change","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":null,"pinData":{},"versionId":"f812cac5-aa43-4e2b-86e0-7831ec49a4c1","triggerCount":1,"tags":[]}